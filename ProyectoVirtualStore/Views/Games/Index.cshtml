@model DatosJuego
@{
    List<int> carrito = Context.Session.GetObject<List<int>>("CARRITO");
    List<Imagenes> imagenes = ViewData["IMAGENES"] as List<Imagenes>;


}

<div class="contenedor padre">
    <div class="card">

        <div id="default-carousel" class="relative w-full" data-carousel="slide">
            <!-- Carousel wrapper -->
            <div class="relative h-56 overflow-hidden rounded-lg md:h-96">

                @foreach (Imagenes imagen in imagenes)
                {
                    <div class="hidden duration-700 ease-in-out" data-carousel-item>
                        <img src="~/images/juego_@Model.Juego.IdJuego/@imagen.Imagen" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                    </div>
                }
                <!-- Item 1 -->
                <!-- Item 2 -->
                <!-- Item 4 -->

            </div>
            <!-- Slider indicators -->
            <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
                <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 4" data-carousel-slide-to="3"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 5" data-carousel-slide-to="4"></button>
            </div>
            <!-- Slider controls -->
            <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                    <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    <span class="sr-only">Previous</span>
                </span>
            </button>
            <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                    <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    <span class="sr-only">Next</span>
                </span>
            </button>
        </div>

        <img src="./assets/images/coh3.jpg" alt="@Model.Juego.NombreJuego">
    </div>
    <div class="card informacion">
        <p>Precio: $@Model.Juego.PrecioJuego</p>

    </div>
    <div style="margin-top: 2rem;" class="padre">
        <p>
            @Model.Juego.DescripcionJuego
        </p>
    </div>
    <div>
        @if (carrito != null && carrito.Contains(Model.Juego.IdJuego))
        {

            <button disabled>
                Ya esta en carrito
            </button>
        }
        else
        {
            <a style="color:blue" asp-controller="Games" asp-action="Index" asp-route-idjuego="@Model.Juego.IdJuego" asp-route-idjuegocarrito="@Model.Juego.IdJuego">
                Añadir al carrito
            </a>

        }

    </div>


    @if (Model.VistaComentarios != null)
    {
        @foreach (VistaComentarios comentarios in Model.VistaComentarios)
        {
            <article style="border:1px solid black">
                <div class="flex items-center mb-4 space-x-4">
                    <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-5.jpg" alt="">
                    <div class="space-y-1 font-medium dark:text-white">
                        <p>@comentarios.NombreUsuario<time class="block text-sm text-gray-500 dark:text-gray-400">@comentarios.FechaPost</time></p>

                    </div>
                </div>

                <p class="mb-2 font-light text-gray-500 dark:text-gray-400"> @comentarios.Comentario</p>

            </article>
        }

    }
    else if (Model.VistaComentarios.Count == 0 || Model.VistaComentarios == null)
    {

        <h1>Sin comentarios de momento se el primero</h1>
    }


    @if (Context.User.Identity.IsAuthenticated)
    {
        <form method="post" style=" max-width: 1068px;width: 800px;">
            <div class="w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600">
                <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
                    <label for="comment" class="sr-only">Your comment</label>
                    <textarea name="texto" id="comment" rows="4" class="w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400" placeholder="Write a comment..." required></textarea>
                </div>
                <div class="flex items-center justify-between px-3 py-2 border-t dark:border-gray-600">
                    <button type="submit" class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800">
                        Post comment
                    </button>

                </div>
            </div>
        </form>
    }



</div>
<hr />
<style>


    .padre {
        max-width: 1026px;
        margin-left: auto;
        margin-right: auto;
    }

    .contenedor {
        display: flex;
        margin-top: 1rem;
        justify-content: center;
        gap: 5rem;
        flex-wrap: wrap;
    }

    .card {
        padding: 20px;
        box-sizing: border-box;
        border: 1px solid black;
    }

        .card.informacion {
        }

        .card img {
            max-width: 100%;
            height: auto;
        }





    @@media screen and (max-width: 768px) {

        .card {
            max-width: 768px;
            margin-left: auto;
            margin-right: auto;
        }

            .card.informacion {
                border: 0;
            }

        .container {
            display: flex;
            height: 300px;
            justify-content: center;
            max-width: 768px;
            margin-left: auto;
            margin-right: auto;
            gap: 1rem;
        }
    }

</style>